@inherits LayoutComponentBase

@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@using Northwind.Client.Sessions

@inject ProtectedSessionStorage ProtectedSessionStorage
@inject NavigationManager NavigationManager
@inject CustomerSessions CustomerSessions

@inject IDialogService DialogService

<FluentDesignTheme Mode="DesignThemeModes.System" StorageName="theme" />
<FluentLayout>
	<FluentHeader>
		Northwind
		<FluentSpacer />
		<FluentIcon Value="@(new Icons.Regular.Size20.Settings())"
					Color="Color.Lightweight"
					OnClick="@ShowSettingAsync" />
	</FluentHeader>
	<FluentStack Class="main" Orientation="Orientation.Horizontal" Width="100%">
		<NavMenu />
		<FluentBodyContent Class="body-content">
			<div class="content">
				@Body
			</div>
		</FluentBodyContent>
	</FluentStack>
</FluentLayout>


<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>

@code {
    private async Task ShowSettingAsync()
	{
		await DialogService.ShowPanelAsync<Layout.Settings>(new DialogParameters()
			{
				Title = "Settings",
				Alignment = HorizontalAlignment.Right,
				SecondaryAction = null,
			});
	}

}
