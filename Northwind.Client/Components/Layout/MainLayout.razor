@inherits LayoutComponentBase
@inject IDialogService DialogService

<FluentDesignTheme Mode="DesignThemeModes.System" StorageName="theme" />
<FluentLayout>
	<FluentHeader>
		AdventureWorks
		<FluentSpacer />
		<FluentIcon Value="@(new Icons.Regular.Size20.Settings())"
					Color="Color.Lightweight"
					OnClick="@ShowSettingAsync" />
	</FluentHeader>
	<FluentStack Class="main" Orientation="Orientation.Horizontal" Width="100%">
		<NavMenu />
		<FluentBodyContent Class="body-content">
			<div class="content">
				@Body
			</div>
		</FluentBodyContent>
	</FluentStack>
</FluentLayout>

<FluentDialogProvider />
<FluentToastProvider MaxToastCount="10" />

<div id="blazor-error-ui" data-nosnippet>
	An unhandled error has occurred.
	<a href="." class="reload">Reload</a>
	<span class="dismiss">🗙</span>
</div>

@code
{
	private async Task ShowSettingAsync()
	{
		await DialogService.ShowPanelAsync<Layout.Settings>(new DialogParameters()
			{
				Title = "Settings",
				Alignment = HorizontalAlignment.Right,
				SecondaryAction = null,
			});
	}

}
